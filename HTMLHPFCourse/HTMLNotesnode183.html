<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>DISTRIBUTE Directive</TITLE>
<META NAME="description" CONTENT="DISTRIBUTE Directive">
<META NAME="keywords" CONTENT="HTMLNotes">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTMLNotes.css">
</HEAD>
<BODY   LANG="EN">
 <A NAME="tex2html2431" HREF="HTMLNotesnode184.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="localIcons/next_motif.gif"></A> <A NAME="tex2html2429" HREF="HTMLNotesnode176.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="localIcons/up_motif.gif"></A> <A NAME="tex2html2423" HREF="HTMLNotesnode182.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="localIcons/previous_motif.gif"></A> <A NAME="tex2html2433" HREF="HTMLSlides.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="localIcons/contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html2432" HREF="HTMLNotesnode184.html">BLOCK Distribution</A>
<B>Up:</B> <A NAME="tex2html2430" HREF="HTMLNotesnode176.html">Data Distribution</A>
<B> Previous:</B> <A NAME="tex2html2424" HREF="HTMLNotesnode182.html">PROCESSORS Declaration</A>
<BR> <P>
<A NAME="DataDistribution1">&#160;</A><H3><A NAME="SECTION02013500000000000000"><TT>DISTRIBUTE</TT> Directive</A></H3>
<P>
<TT>DISTRIBUTE</TT> tells the compiler how to divide the data between the
processors. The idea is that the particular distribution methods are
applied to the object to be distributed in each dimension.
We distribute  objects <TT>ONTO</TT> processor grids:
<P>
<PRE>       REAL, DIMENSION(50)    :: A
       REAL, DIMENSION(10,10) :: B, C, D
 !HPF$ DISTRIBUTE (BLOCK) ONTO P1         :: A   !1-D
 !HPF$ DISTRIBUTE (CYCLIC,CYCLIC) ONTO P2 :: B,C !2-D
 !HPF$ DISTRIBUTE D(BLOCK,*) ONTO P1    ! alt. syntax</PRE>
<P>
(There must be the same number of non-<TT>*</TT> distributed dimensions as
the rank of the grid.)
<P>
If an object is distributed then it is said to be <B>mapped</B> (or have
a mapping). `Distribute' and `map' are used synonymously.
<P>
For example, the first distribute statement 
takes the matrix <TT>A</TT> divides it into equal sized contiguous blocks
(except the last block which may be smaller than all the rest) and gives
one block to each processor. <TT>A</TT> has 50 elements and <TT>P1</TT> is of
size 4, therefore each processor gets  <IMG WIDTH=55 HEIGHT=23 ALIGN=MIDDLE ALT="tex2html_wrap_inline23592" SRC="HTMLNotesimg89.gif"  > 
elements, except the last, <TT>P1(4)</TT>, which gets the remainder (11).
<P>
Cyclic distribution dishes the array elements out in much the same way
as one would deal a pack of cards. Each processor gets one element in
turn and when all processors have received one element, the first
processor receives a second (and so on).
<P>
<TT>*</TT> distribution means that the dimension is ignored; this generally
means that each processor gets the whole row (as in this case) or
column: `give this whole dimension to the processor'.
<P>
The last directive in the above block demonstrates the F<font size=-1><small>ORTRAN</small></font>&nbsp;77 style of
declaration.
<P>
<HR><A NAME="tex2html2431" HREF="HTMLNotesnode184.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="localIcons/next_motif.gif"></A> <A NAME="tex2html2429" HREF="HTMLNotesnode176.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="localIcons/up_motif.gif"></A> <A NAME="tex2html2423" HREF="HTMLNotesnode182.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="localIcons/previous_motif.gif"></A> <A NAME="tex2html2433" HREF="HTMLSlides.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="localIcons/contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html2432" HREF="HTMLNotesnode184.html">BLOCK Distribution</A>
<B>Up:</B> <A NAME="tex2html2430" HREF="HTMLNotesnode176.html">Data Distribution</A>
<B> Previous:</B> <A NAME="tex2html2424" HREF="HTMLNotesnode182.html">PROCESSORS Declaration</A>
<P><ADDRESS>
<I>Adam Marshall &#169;University of Liverpool, 1996<BR>
Tue Nov 26 17:50:42 GMT 1996</I>
</ADDRESS>
</BODY>
</HTML>
