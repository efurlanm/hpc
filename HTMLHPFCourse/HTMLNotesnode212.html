<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Collapsing Dimensions</TITLE>
<META NAME="description" CONTENT="Collapsing Dimensions">
<META NAME="keywords" CONTENT="HTMLNotes">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="HTMLNotes.css">
</HEAD>
<BODY   LANG="EN">
 <A NAME="tex2html2775" HREF="HTMLNotesnode213.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="localIcons/next_motif.gif"></A> <A NAME="tex2html2773" HREF="HTMLNotesnode201.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="localIcons/up_motif.gif"></A> <A NAME="tex2html2767" HREF="HTMLNotesnode211.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="localIcons/previous_motif.gif"></A> <A NAME="tex2html2777" HREF="HTMLSlides.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="localIcons/contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html2776" HREF="HTMLNotesnode213.html">Replicating Dimensions</A>
<B>Up:</B> <A NAME="tex2html2774" HREF="HTMLNotesnode201.html">Alignment and Distribution</A>
<B> Previous:</B> <A NAME="tex2html2768" HREF="HTMLNotesnode211.html">Aligning Allocatable Arrays</A>
<BR> <P>
<A NAME="CollapsingAlignment1">&#160;</A><H3><A NAME="SECTION02020500000000000000">Collapsing Dimensions</A></H3>
<P>
Can align one or more dimensions with a single element.
<P>
     <PRE>!HPF$ ALIGN (*,:) WITH Y(:) :: X</PRE>
<P>
The <TT>*</TT> on the LHS of the <TT>WITH</TT> keyword, means that
columns of <TT>X</TT> are not distributed. Each element of <TT>Y</TT>
 is aligned with a column of <TT>X</TT>. <TT>X</TT> is said to be collapsed in
the first dimension. See Figure
<A HREF="HTMLNotesnode212.html#CollapsingDimensionVisualisationfig">30</A>.
<P>
<P><A NAME="14098">&#160;</A><A NAME="CollapsingDimensionVisualisationfig">&#160;</A> <IMG WIDTH=218 HEIGHT=325 ALIGN=BOTTOM ALT="figure14095" SRC="HTMLNotesimg120.gif"  > <BR>
<STRONG>Figure 30:</STRONG> Visualisation of Collapsing a Dimension<BR>
<P>
<P>
Collapsing dimensions is useful for certain reference patterns, for
example if a whole row or column is used in the calculation of a
single element. The <TT>*</TT> distribution method allows for dimensions to
be collapsed, but this can also be achieved during alignment.
<P>
The general rule is: <I>if a <TT>*</TT> appears in the
<EM>align-source-list</EM> (the parenthesised list on the LHS of the
<TT>WITH</TT> clause associated with the <EM>alignee</EM>) then the corresponding
dimension is collapsed.</I> (I like to think of it as
aligning all dimensions that contain a colon; the <TT>*</TT> dimensions are
left over so are collapsed.)
<P>
In the
example, the <TT>*</TT> is in the first dimension meaning that the first
dimension of <TT>X</TT> is not distributed. The whole of the first <EM>
column</EM>
of <TT>X</TT> is aligned with the first <EM>element</EM> of <TT>Y</TT>, the whole
of the second column of <TT>X</TT> is aligned with the second column of
<TT>Y</TT>, and so on. The processor which received <TT>Y(i)</TT> will also
receive <TT>X(:,i)</TT>.
<P>
There must be the same number of non-<TT>*</TT> dimensions on either side of
the <TT>WITH</TT> clause.
<P>
<HR><A NAME="tex2html2775" HREF="HTMLNotesnode213.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="localIcons/next_motif.gif"></A> <A NAME="tex2html2773" HREF="HTMLNotesnode201.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="localIcons/up_motif.gif"></A> <A NAME="tex2html2767" HREF="HTMLNotesnode211.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="localIcons/previous_motif.gif"></A> <A NAME="tex2html2777" HREF="HTMLSlides.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="localIcons/contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html2776" HREF="HTMLNotesnode213.html">Replicating Dimensions</A>
<B>Up:</B> <A NAME="tex2html2774" HREF="HTMLNotesnode201.html">Alignment and Distribution</A>
<B> Previous:</B> <A NAME="tex2html2768" HREF="HTMLNotesnode211.html">Aligning Allocatable Arrays</A>
<P><ADDRESS>
<I>Adam Marshall &#169;University of Liverpool, 1996<BR>
Tue Nov 26 17:50:42 GMT 1996</I>
</ADDRESS>
</BODY>
</HTML>
